"use strict";(()=>{window.TOAFactory=function(f={}){const{useSymbolicExtensions:m}=f,{xProxy:s,addSymbolicExtensions:y}=$(n,c,m),l=A(),[g]=[F()];return s.custom(),m&&y(),{IS:n,maybe:l,$Wrap:g,isNothing:d,xProxy:s,addSymbolicExtensions:y};function n(r,...t){const e=typeof r=="symbol"?Symbol.isSymbol:r;switch(!0){case!!l({trial:o=>"isTypes"in(t?.[0]??{})}):return i(r,t[0]);default:return t.length>1?j(e,...t):b(r,...t)}}function i(r,t){switch(!0){case"defaultValue"in t:return v(r,t);case"notTypes"in t:return O(r,t);default:return n(r,...[t.isTypes].flat())}}function c(r){return r?.[Symbol.proxy]??n(r)}function b(r,...t){let{noInput:e,noShouldbe:o,compareTo:u,inputCTOR:x,isNaN:E,isInfinity:C,shouldBeFirstElementIsNothing:_}=a(r,...t);switch(t=t.length&&t[0],!0){case _:return String(r)===String(u);case(r?.[Symbol.proxy]&&o):return r[Symbol.proxy];case E:return o?"NaN":String(u)===String(r);case C:return o?"Infinity":String(u)===String(r);case e:return o?String(r):String(u)===String(r);case x===Boolean:return t?x===t:"Boolean";default:return N(r,t,o,P(r,x))}}function a(r,...t){const e=t.length<1,o=r==null;return{noInput:o,noShouldbe:e,compareTo:!e&&t[0],inputCTOR:!o&&Object.getPrototypeOf(r)?.constructor,isNaN:Number.isNaN(r)||l({trial:u=>String(r)==="NaN"}),isInfinity:l({trial:u=>String(r)})==="Infinity",shouldBeFirstElementIsNothing:!e&&d(t[0])}}function P(r,t){switch(!0){case r===0:return Number;case r==="":return String;case!r:return{name:String(r)};default:return t}}function N(r,t,e,o){switch(!0){case(!e&&t===r||r?.[Symbol.proxy]&&t===Proxy):return!0;case String(t)==="NaN":return String(r)==="NaN";case(r?.[Symbol.toStringTag]&&n(t,String)):return String(t)===r[Symbol.toStringTag];default:return t?w(r,t,o):I(r,o)}}function I(r,t){return r?.[Symbol.toStringTag]&&`[object ${r?.[Symbol.toStringTag]}]`||t?.name||String(t)}function w(r,t,e){return l({trial:o=>r instanceof t})||t===e||t===Object.getPrototypeOf(e)||`${t?.name}`===e?.name}function j(r,...t){return t.some(e=>n(r,e))}function d(r,t=!1){let e=r==null;return e=t?e||n(r,1/0)||n(r,NaN):e,e}function A(){const r=t=>{};return function({trial:t,whenError:e=r}={}){try{return t()}catch(o){return e(o)}}}function F(){return function(r){return Object.freeze({get value(){return r},get[Symbol.type](){return c(r)},get type(){return c(r)},[Symbol.is](...t){return n(r,...t)},is(...t){return n(r,...t)}})}}function v(r,{defaultValue:t,isTypes:e=[void 0],notTypes:o}={}){return e=e?.constructor!==Array?[e]:e,o=o&&o?.constructor!==Array?[o]:[],o.length<1?n(r,...e)?r:t:O(r,{isTypes:e,notTypes:o})?r:t}function O(r,{isTypes:t=[void 0],notTypes:e=[void 0]}={}){return t=t?.constructor!==Array?[t]:t,e=e?.constructor!==Array?[e]:e,n(r,...t)&&!n(r,...e)}function D(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return c(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...r){return n(this,...r)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(r){return c(r)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(r,...t){return n(r,...t)},enumerable:!1,configurable:!1}}))}function R(r){const t=r.set;return r.set=(e,o,u)=>o===Symbol.proxy?e[o]=u:t(e,o,u),r}};function $(S,f,m){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for("toa.isASymbol")),{xProxy:g(),addSymbolicExtensions:s};function s(){Symbol.is||(Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type")),Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return f(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...n){return S(this,...n)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(n){return f(n)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(n,...i){return S(n,...i)},enumerable:!1,configurable:!1}}))}function y(n){return Object.getPrototypeOf(n)?.constructor?.name||"Object"}function l(n){return function(){Proxy=new n(n,{construct(i,c){for(let a of c)a.set&&(a=modifySetter(a));const b=new i(...c);return b[Symbol.proxy]=`Proxy (${y(c[0])})`,b}})}}function g(){Symbol.proxy||(Symbol.proxy=Symbol.for("toa.proxy"));const n=Proxy;return{native(){Proxy=n},custom:l(n)}}}})();
